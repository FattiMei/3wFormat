## Goal
Convert a gcode file (like the ones generated by CURA) to 3w and viceversa. From this point we will consider only the 3w files accepted and generated by XYZprint V2.0.5.

## General scheme
A 3w files consists of four contiguous blocks of data:

  1. header
  2. print_info
  3. zero_padding
  4. gcode

### header (version 5) [0 : 112]
A byte structure containing information about the file, like the signature and version.

| Offset | Size	| Type 		| Name			| Default value		|
| ------ | ----	| ---- 		| ----			| -------------		|
| 0	 | 12	| char[12]	| signature		| "3DPFNKG13WTW"	|
| 12	 | 1	| uint8_t	| id			| 1			|
| 13	 | 1	| uint8_t	| version		| 5			|
| 14	 | 2	| padding	|			| 0			|
| 16	 | 4	| uint32_t	| ziptag_offset		| 8			|
| 28	 | 8	| char[8]	| ziptag_code		| "TagEJ256"		|
| 36	 | 4	| uint32_t	| print_info_len	| 			|
| 40	 | 4	| uint32_t	| print_info_offset	| 68			|
| 44	 | 4	| uint32_t	| id2			| 1			|
| 48	 | 4	| uint32_t	| crc32			| 			|
| 52	 | 60	| padding	| 			| 0			|

Notes:
  * all numeric data is in _BIG ENDIAN_
  * all headers differ only by the fields *print_info_len* and *crc32*
  * crc32 is the crc of the gcode block

### print_info [112 : 112 + print_info_len]
For XYZprint-generated files it contains some gcode comments. This block is valid if it does not contain any NULL byte.

### zero_padding [112 + print_info_len, 8192]
This block contains only NULL bytes.

### gcode [8192:]
This block is valid if its size is a multiple of 16 and its crc32 matches the one in the header block.
Contains gcode encrypted with AES-256 ECB:

  * AES-256: see https://wikipedia.org/wiki/Advanced_Encryption_Standard
  * ECB mode: every 16-byte block is encrypted/decrypted with the same key
  * key: `@xyzprinting.com@xyzprinting.com`

Plain gcode data always ends with the string `;END`. If plain gcode bytes are not a multiple of 16, they will be padded with *pkcs7-style* padding. 
